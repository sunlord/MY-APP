{"ast":null,"code":"import Eventful from './Eventful';\nimport env from './env';\nimport { isCanvasEl, transformCoordWithViewport } from './dom';\nvar isDomLevel2 = typeof window !== 'undefined' && !!window.addEventListener;\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar _calcOut = [];\nexport function clientToLocal(el, e, out, calculate) {\n  out = out || {};\n  if (calculate || !env.canvasSupported) {\n    calculateZrXY(el, e, out);\n  } else if (env.browser.firefox && e.layerX != null && e.layerX !== e.offsetX) {\n    out.zrX = e.layerX;\n    out.zrY = e.layerY;\n  } else if (e.offsetX != null) {\n    out.zrX = e.offsetX;\n    out.zrY = e.offsetY;\n  } else {\n    calculateZrXY(el, e, out);\n  }\n  return out;\n}\nfunction calculateZrXY(el, e, out) {\n  if (env.domSupported && el.getBoundingClientRect) {\n    var ex = e.clientX;\n    var ey = e.clientY;\n    if (isCanvasEl(el)) {\n      var box = el.getBoundingClientRect();\n      out.zrX = ex - box.left;\n      out.zrY = ey - box.top;\n      return;\n    } else {\n      if (transformCoordWithViewport(_calcOut, el, ex, ey)) {\n        out.zrX = _calcOut[0];\n        out.zrY = _calcOut[1];\n        return;\n      }\n    }\n  }\n  out.zrX = out.zrY = 0;\n}\nexport function getNativeEvent(e) {\n  return e || window.event;\n}\nexport function normalizeEvent(el, e, calculate) {\n  e = getNativeEvent(e);\n  if (e.zrX != null) {\n    return e;\n  }\n  var eventType = e.type;\n  var isTouch = eventType && eventType.indexOf('touch') >= 0;\n  if (!isTouch) {\n    clientToLocal(el, e, e, calculate);\n    var wheelDelta = getWheelDeltaMayPolyfill(e);\n    e.zrDelta = wheelDelta ? wheelDelta / 120 : -(e.detail || 0) / 3;\n  } else {\n    var touch = eventType !== 'touchend' ? e.targetTouches[0] : e.changedTouches[0];\n    touch && clientToLocal(el, touch, e, calculate);\n  }\n  var button = e.button;\n  if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n    e.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;\n  }\n  return e;\n}\nfunction getWheelDeltaMayPolyfill(e) {\n  var rawWheelDelta = e.wheelDelta;\n  if (rawWheelDelta) {\n    return rawWheelDelta;\n  }\n  var deltaX = e.deltaX;\n  var deltaY = e.deltaY;\n  if (deltaX == null || deltaY == null) {\n    return rawWheelDelta;\n  }\n  var delta = deltaY !== 0 ? Math.abs(deltaY) : Math.abs(deltaX);\n  var sign = deltaY > 0 ? -1 : deltaY < 0 ? 1 : deltaX > 0 ? -1 : 1;\n  return 3 * delta * sign;\n}\nexport function addEventListener(el, name, handler, opt) {\n  if (isDomLevel2) {\n    el.addEventListener(name, handler, opt);\n  } else {\n    el.attachEvent('on' + name, handler);\n  }\n}\nexport function removeEventListener(el, name, handler, opt) {\n  if (isDomLevel2) {\n    el.removeEventListener(name, handler, opt);\n  } else {\n    el.detachEvent('on' + name, handler);\n  }\n}\nexport var stop = isDomLevel2 ? function (e) {\n  e.preventDefault();\n  e.stopPropagation();\n  e.cancelBubble = true;\n} : function (e) {\n  e.returnValue = false;\n  e.cancelBubble = true;\n};\nexport function isMiddleOrRightButtonOnMouseUpDown(e) {\n  return e.which === 2 || e.which === 3;\n}\nexport function notLeftMouse(e) {\n  return e.which > 1;\n}\nexport { Eventful as Dispatcher };","map":{"version":3,"names":["Eventful","env","isCanvasEl","transformCoordWithViewport","isDomLevel2","window","addEventListener","MOUSE_EVENT_REG","_calcOut","clientToLocal","el","e","out","calculate","canvasSupported","calculateZrXY","browser","firefox","layerX","offsetX","zrX","zrY","layerY","offsetY","domSupported","getBoundingClientRect","ex","clientX","ey","clientY","box","left","top","getNativeEvent","event","normalizeEvent","eventType","type","isTouch","indexOf","wheelDelta","getWheelDeltaMayPolyfill","zrDelta","detail","touch","targetTouches","changedTouches","button","which","undefined","test","rawWheelDelta","deltaX","deltaY","delta","Math","abs","sign","name","handler","opt","attachEvent","removeEventListener","detachEvent","stop","preventDefault","stopPropagation","cancelBubble","returnValue","isMiddleOrRightButtonOnMouseUpDown","notLeftMouse","Dispatcher"],"sources":["/Users/jiong/Downloads/my-app/node_modules/zrender/lib/core/event.js"],"sourcesContent":["import Eventful from './Eventful';\nimport env from './env';\nimport { isCanvasEl, transformCoordWithViewport } from './dom';\nvar isDomLevel2 = (typeof window !== 'undefined') && !!window.addEventListener;\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar _calcOut = [];\nexport function clientToLocal(el, e, out, calculate) {\n    out = out || {};\n    if (calculate || !env.canvasSupported) {\n        calculateZrXY(el, e, out);\n    }\n    else if (env.browser.firefox\n        && e.layerX != null\n        && e.layerX !== e.offsetX) {\n        out.zrX = e.layerX;\n        out.zrY = e.layerY;\n    }\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n    }\n    else {\n        calculateZrXY(el, e, out);\n    }\n    return out;\n}\nfunction calculateZrXY(el, e, out) {\n    if (env.domSupported && el.getBoundingClientRect) {\n        var ex = e.clientX;\n        var ey = e.clientY;\n        if (isCanvasEl(el)) {\n            var box = el.getBoundingClientRect();\n            out.zrX = ex - box.left;\n            out.zrY = ey - box.top;\n            return;\n        }\n        else {\n            if (transformCoordWithViewport(_calcOut, el, ex, ey)) {\n                out.zrX = _calcOut[0];\n                out.zrY = _calcOut[1];\n                return;\n            }\n        }\n    }\n    out.zrX = out.zrY = 0;\n}\nexport function getNativeEvent(e) {\n    return e\n        || window.event;\n}\nexport function normalizeEvent(el, e, calculate) {\n    e = getNativeEvent(e);\n    if (e.zrX != null) {\n        return e;\n    }\n    var eventType = e.type;\n    var isTouch = eventType && eventType.indexOf('touch') >= 0;\n    if (!isTouch) {\n        clientToLocal(el, e, e, calculate);\n        var wheelDelta = getWheelDeltaMayPolyfill(e);\n        e.zrDelta = wheelDelta ? wheelDelta / 120 : -(e.detail || 0) / 3;\n    }\n    else {\n        var touch = eventType !== 'touchend'\n            ? e.targetTouches[0]\n            : e.changedTouches[0];\n        touch && clientToLocal(el, touch, e, calculate);\n    }\n    var button = e.button;\n    if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n        e.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));\n    }\n    return e;\n}\nfunction getWheelDeltaMayPolyfill(e) {\n    var rawWheelDelta = e.wheelDelta;\n    if (rawWheelDelta) {\n        return rawWheelDelta;\n    }\n    var deltaX = e.deltaX;\n    var deltaY = e.deltaY;\n    if (deltaX == null || deltaY == null) {\n        return rawWheelDelta;\n    }\n    var delta = deltaY !== 0 ? Math.abs(deltaY) : Math.abs(deltaX);\n    var sign = deltaY > 0 ? -1\n        : deltaY < 0 ? 1\n            : deltaX > 0 ? -1\n                : 1;\n    return 3 * delta * sign;\n}\nexport function addEventListener(el, name, handler, opt) {\n    if (isDomLevel2) {\n        el.addEventListener(name, handler, opt);\n    }\n    else {\n        el.attachEvent('on' + name, handler);\n    }\n}\nexport function removeEventListener(el, name, handler, opt) {\n    if (isDomLevel2) {\n        el.removeEventListener(name, handler, opt);\n    }\n    else {\n        el.detachEvent('on' + name, handler);\n    }\n}\nexport var stop = isDomLevel2\n    ? function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        e.cancelBubble = true;\n    }\n    : function (e) {\n        e.returnValue = false;\n        e.cancelBubble = true;\n    };\nexport function isMiddleOrRightButtonOnMouseUpDown(e) {\n    return e.which === 2 || e.which === 3;\n}\nexport function notLeftMouse(e) {\n    return e.which > 1;\n}\nexport { Eventful as Dispatcher };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}