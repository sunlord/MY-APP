{"ast":null,"code":"import easingFuncs from './easing';\nvar Clip = function () {\n  function Clip(opts) {\n    this._initialized = false;\n    this._startTime = 0;\n    this._pausedTime = 0;\n    this._paused = false;\n    this._life = opts.life || 1000;\n    this._delay = opts.delay || 0;\n    this.loop = opts.loop == null ? false : opts.loop;\n    this.gap = opts.gap || 0;\n    this.easing = opts.easing || 'linear';\n    this.onframe = opts.onframe;\n    this.ondestroy = opts.ondestroy;\n    this.onrestart = opts.onrestart;\n  }\n  Clip.prototype.step = function (globalTime, deltaTime) {\n    if (!this._initialized) {\n      this._startTime = globalTime + this._delay;\n      this._initialized = true;\n    }\n    if (this._paused) {\n      this._pausedTime += deltaTime;\n      return;\n    }\n    var percent = (globalTime - this._startTime - this._pausedTime) / this._life;\n    if (percent < 0) {\n      percent = 0;\n    }\n    percent = Math.min(percent, 1);\n    var easing = this.easing;\n    var easingFunc = typeof easing === 'string' ? easingFuncs[easing] : easing;\n    var schedule = typeof easingFunc === 'function' ? easingFunc(percent) : percent;\n    this.onframe && this.onframe(schedule);\n    if (percent === 1) {\n      if (this.loop) {\n        this._restart(globalTime);\n        this.onrestart && this.onrestart();\n      } else {\n        return true;\n      }\n    }\n    return false;\n  };\n  Clip.prototype._restart = function (globalTime) {\n    var remainder = (globalTime - this._startTime - this._pausedTime) % this._life;\n    this._startTime = globalTime - remainder + this.gap;\n    this._pausedTime = 0;\n  };\n  Clip.prototype.pause = function () {\n    this._paused = true;\n  };\n  Clip.prototype.resume = function () {\n    this._paused = false;\n  };\n  return Clip;\n}();\nexport default Clip;","map":{"version":3,"names":["easingFuncs","Clip","opts","_initialized","_startTime","_pausedTime","_paused","_life","life","_delay","delay","loop","gap","easing","onframe","ondestroy","onrestart","prototype","step","globalTime","deltaTime","percent","Math","min","easingFunc","schedule","_restart","remainder","pause","resume"],"sources":["/Users/jiong/Downloads/my-app/node_modules/zrender/lib/animation/Clip.js"],"sourcesContent":["import easingFuncs from './easing';\nvar Clip = (function () {\n    function Clip(opts) {\n        this._initialized = false;\n        this._startTime = 0;\n        this._pausedTime = 0;\n        this._paused = false;\n        this._life = opts.life || 1000;\n        this._delay = opts.delay || 0;\n        this.loop = opts.loop == null ? false : opts.loop;\n        this.gap = opts.gap || 0;\n        this.easing = opts.easing || 'linear';\n        this.onframe = opts.onframe;\n        this.ondestroy = opts.ondestroy;\n        this.onrestart = opts.onrestart;\n    }\n    Clip.prototype.step = function (globalTime, deltaTime) {\n        if (!this._initialized) {\n            this._startTime = globalTime + this._delay;\n            this._initialized = true;\n        }\n        if (this._paused) {\n            this._pausedTime += deltaTime;\n            return;\n        }\n        var percent = (globalTime - this._startTime - this._pausedTime) / this._life;\n        if (percent < 0) {\n            percent = 0;\n        }\n        percent = Math.min(percent, 1);\n        var easing = this.easing;\n        var easingFunc = typeof easing === 'string'\n            ? easingFuncs[easing] : easing;\n        var schedule = typeof easingFunc === 'function'\n            ? easingFunc(percent)\n            : percent;\n        this.onframe && this.onframe(schedule);\n        if (percent === 1) {\n            if (this.loop) {\n                this._restart(globalTime);\n                this.onrestart && this.onrestart();\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    Clip.prototype._restart = function (globalTime) {\n        var remainder = (globalTime - this._startTime - this._pausedTime) % this._life;\n        this._startTime = globalTime - remainder + this.gap;\n        this._pausedTime = 0;\n    };\n    Clip.prototype.pause = function () {\n        this._paused = true;\n    };\n    Clip.prototype.resume = function () {\n        this._paused = false;\n    };\n    return Clip;\n}());\nexport default Clip;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}